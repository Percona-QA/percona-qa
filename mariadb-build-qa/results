#!/bin/bash
DIR=/data
MON[1]=541977
MON[2]=466162
MON[3]=170143
MON[4]=551247
while true; do
  clear
  for ((i=1;i<=20;i++)); do
    if [ ! -z "${MON[i]}" ]; then
      if [ -d "${DIR}/${MON[${i}]}" ]; then
        cd "${DIR}/${MON[${i}]}"
        ~/pr | grep -vEi  '^================$|SHUTDOWN'
      else
        echo "Index ${i} seems to be invalid: directopry ${DIR}/${MON[${i}]} does not exist!"
        exit 1
      fi
    fi
  done
  sleep 30
done
